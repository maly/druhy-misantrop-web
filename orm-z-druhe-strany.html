<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="cs" xml:lang="cs">

  <head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>ORM z druh&eacute; strany | Věstn&iacute;k misantropizace</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="/sites/misantrop.eu/files/barron_favicon.ico" type="image/x-icon" />
    <link type="text/css" rel="stylesheet" media="all" href="/modules/aggregator/aggregator.css?7" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/node/node.css?7" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/system/defaults.css?7" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/system/system.css?7" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/system/system-menus.css?7" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/tagadelic/tagadelic.css?7" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/user/user.css?7" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/views/css/views.css?7" />
<link type="text/css" rel="stylesheet" media="all" href="/modules/addtoany/addtoany.css?7" />
<link type="text/css" rel="stylesheet" media="all" href="/sites/misantrop.cz/themes/barron/style.css?7" />
    <link rel="stylesheet" href="http://misantrop.eu/sites/misantrop.eu/themes/barron/print.css" type="text/css" media="print" charset="utf-8" />
    <script type="text/javascript" src="/misc/jquery.js?7"></script>
<script type="text/javascript" src="/misc/drupal.js?7"></script>
<script type="text/javascript" src="/sites/misantrop.eu/files/languages/cs_752600b7e6fe514d39e9f24f626d1cc1.js?7"></script>
<script type="text/javascript" src="/modules/disqus/disqus.js?7"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, { "basePath": "/", "disqus": { "url": "http://www.misantrop.cz/node/179", "title": "ORM z druhé strany", "identifier": "node/179", "shortname": "misantrop" } });
//--><!]]>
</script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
var a2a_config=a2a_config||{},da2a={done:false,html_done:false,script_ready:false,script_load:function(){var a=document.createElement('script'),s=document.getElementsByTagName('script')[0];a.type='text/javascript';a.async=true;a.src='http://static.addtoany.com/menu/page.js';s.parentNode.insertBefore(a,s);da2a.script_load=function(){};},script_onready:function(){da2a.script_ready=true;if(da2a.html_done)da2a.init();},init:function(){for(var i=0,el,target,targets=da2a.targets,length=targets.length;i<length;i++){el=document.getElementById('da2a_'+(i+1));target=targets[i];a2a_config.linkname=target.title;a2a_config.linkurl=target.url;if(el)a2a.init('page',{target:el});da2a.done=true;}}};a2a_config.tracking_callback=['ready',da2a.script_onready];
//--><!]]>
</script>
    <!--[if lte IE 7]>
    <style type="text/css" media="all">@import "/sites/misantrop.cz/themes/barron/ie-fixes.css";</style>
    <![endif]-->
    <link rel="openid.server" href="http://www.myopenid.com/server" />
    <link rel="openid.delegate" href="http://adent.myopenid.com/" />
    <link rel="openid2.local_id" href="http://adent.myopenid.com" />
    <link rel="openid2.provider" href="http://www.myopenid.com/server" />
    <meta http-equiv="X-XRDS-Location" content="http://www.myopenid.com/xrds?username=adent.myopenid.com" />
  </head>

  <body>
    <div id="container">
      <div id="header">
        <div id="nav">
                      <ul class="links"><li class="menu-611 first"><a href="http://astore.amazon.com/new-web-20" title="Programátorské knihy v angličtině pro váš Kindle">Kindle KNIHY</a></li>
<li class="menu-556"><a href="http://strucny.misantrop.eu/" title="Krátké postřehy z Posterous">Stručný Misantrop</a></li>
<li class="menu-173"><a href="http://misantrop.eu/index-old.php" title="">Archiv 07-08</a></li>
<li class="menu-278"><a href="http://blog.maly.cz" title="Převážně neškodný">Archiv 03-05</a></li>
<li class="menu-171"><a href="http://www.maly.cz/" title="">O mně</a></li>
<li class="menu-547"><a href="http://misantrop.eu/pravidla-mostarny" title="Pravidla moštárny">O těchto stránkách</a></li>
<li class="menu-559"><a href="http://misantrop.eu/contact" title="Kontakt">Kontakt</a></li>
<li class="menu-170 last"><a href="http://misantrop.eu" title="">Domů</a></li>
</ul>                  </div><!-- /nav -->
        <div id="logo-wrapper">
                    <h1 class="site-name"><a href="/" title="Domů">Věstník misantropizace</a></h1>                  </div><!-- /logo-wrapper-->
      </div><!-- /header-->

      <div id="content">
                <div class="breadcrumb"><a href="/">Domů</a></div>        <h2 class="page-title">ORM z druhé strany</h2>
        <div class="tabs"></div>
                	      <div id="block-block-17" class="clear-block block block-block">


  <div class="content"><!-- Kontextová reklama Sklik -->
<div id="sklikReklama_1989"></div>
<script type="text/javascript">
    var sklikData = { elm: "sklikReklama_1989", zoneId: 1989, w: 468, h: 80 };
</script>
<script type="text/javascript" src="http://out.sklik.cz/js/script.js"></script></div>
</div>
          <div id="node-179" class="node">


  
    
    
  <span class="submitted">
        05. 01. 2010  </span>
    
    
      <div class="taxonomy">
      Kategorie: <ul class="links inline"><li class="taxonomy_term_391 first"><a href="/stitky/nosql" rel="tag" title="">NoSQL</a></li>
<li class="taxonomy_term_390"><a href="/stitky/orm" rel="tag" title="">ORM</a></li>
<li class="taxonomy_term_272"><a href="/stitky/php" rel="tag" title="">PHP</a></li>
<li class="taxonomy_term_5 last"><a href="/kategorie/o-programovani" rel="tag" title="">O programování</a></li>
</ul>    </div>
      
  <div class="content">
    <p>Slíbil jsem článek o svém ORM pro PHP, tak tady je... Šel jsem na to trošku z jiné strany. Odkud?</p>

<p><i>Na úvod jedno upozornění, abych předešel dotazům "kde se to dá stáhnout?": Své kódy nepublikuju, ačkoli k tomu nemám ideologické důvody, spíš praktické. S každým publikovaným kódem se totiž vyrojí i plný pytel remcalů, kteří mají připomínky k tomu či onomu, proč nepoužívám "standardní konvenci zápisu kódu" (=tu jejich), přinejhorším proč píšu otvírací složenou závorku na řádek s hlavičkou funkce a ne až na nový. Někdy to jsou připomínky k věci, ale dost často je diskuse o vznesených výhradách jen neplodné žvanění, které nevede nikam. Takže věci, které píšu pro lidi, dávám ven pod "BSD No Whining" licencí, no a věci, co si píšu pro sebe, nezveřejňuju. </i><i>Stejný postup zvolím i tentokrát, t</i><i>akže žádný zdroják ke stažení nebude, ostatně bez zbytku knihoven by byl nanic, ale podělím se s vámi o poznatky, můžete si napsat vlastní (a lepší) knihovnu. </i><i>:)</i></p>
<p>Jo a ještě: <b>Neobjevil jsem Ameriku.</b> Jen jsem došel k řešení, které přede mnou zkusili i jiní, a shledal jsem ho použitelným pro svoje účely, a teď o tom píšu v naději, že se třeba moje úvahy budou hodit někomu jinému. I kdyby k tomu, že si potvrdíte, že VAŠE cesta je správná a já se mýlím. Je to možné.</p>
<p><b>Jak to celé vzniklo?</b></p>
<p>Nějak před Vánoci se roztrhl pytel s ORM pro <a href="http://dibiphp.com/cs/">Dibi</a>. Dva nebo tři lidé začali psát své vlastní ORM pro Davidův DB layer. Jak už to tak bývá, komunita se rozštěpila na frakce - jedni fandili tomu, druzí onomu, třetí ani jednomu a čtvrtí oběma.</p>
<p>Já do světa kolem <a href="http://nettephp.com/cs/">Nette</a> a <a href="http://dibiphp.com/cs/">Dibi</a> nevstupuju. Uznávám velký kus práce, co na těchto projektech David odvedl, ale po bližším zkoumání obého jsem dospěl k závěru, že zůstaneme raději jen kamarádi. ;) Ale rád si Davida kdykoli poslechnu a jeho kód pročtu, protože je inspirativní.</p>
<p>Stejně tak byla inspirativní debata o ORM. Navíc přišla v pravou chvíli.</p>
<p>Totiž, abych to zasadil do kontextu: Kdysi v dávnověku se dělaly webové aplikace v PHP tak, že jste mastili SQL dotazy přímo do PHP kódu. Kde data, tam SQL. Což byl problém ve chvíli, kdy si někdo vzpomněl, že chce použít jinou databázi.</p>
<p>Logické tedy bylo použít nějaký DB layer, tedy mezivrstvu, kde z jedné strany byla nějaká standardizovaná sada dotazů, a z druhé strany trčely konektory pro různé databázové stroje (třeba ADODB jako příklad takové mezivrstvy mě napadá). Problém byl v tom, že každá databáze uměla něco trošku jiného, takže pro různé DB bylo třeba najít buď minimální průnik funkcí (tedy vlastně skoro nic), nebo nějak "simulovat" SQL a překládat je v layeru na více či méně optimalizované dotazy pro jednotlivé enginy. Což není sranda, jak dojde každému, kdo se podívá na seznam podporovaných DB.</p>
<p>Takže výsledkem byly více či méně zamaskované SQL dotazy s více či méně inteligentní syntaxí. Jo a taky spousta bezpečnostních děr, zrovna ADODB tím bylo pověstné. Navíc vám aplikace neuvěřitelně nakynula.</p>
<p>Sem, do "DB layerů" patří i zmiňovaný <a href="http://dibiphp.com/cs/">Dibi</a>, který je aspoň malý, dobře navržený a bezpečný a celkem elegantně řeší onen problém "minimálního průniku funkcí".</p>
<p><b>S rozšířením Konečně Objektového PHP začali koumáci koumat, jak by se dal v PHP napsat rozumný ORM</b>, tedy "objektově-relační mapper", čili mezivrstva, co má na jedné straně relační databázi a na druhé straně třídy a objekty v PHP. To na první pohled nevypadá jako problém, na druhý pohled to problém je; ještě před dvěma lety jsem četl, že "opravdový ORM" v PHP napsat nelze.</p>
<p>Přiznám se, i já jsem s ORM koketoval. Napsal jsem si třídu, co měla potomky "tabulka_XYZ", a v těch potomcích byly přepsány sloupce z databáze (třeba: <i>ID, autor_id, nadpis, text, URL, cas</i>). Pak jsem tam taky označil, co je řetězec a co číslo (to kvůli escapování). Pak jsem v kódu zavolal <i>new Comment()</i>, přiřadil jsem potřebné hodnoty a dal <i>flush()</i>. Hodnoty jsem načítal pomocí univerzálního GetByID() nebo pomocí specifických metod (GetAllByAuthorID() např.)</p>
<p>Výhody to má mnohé - z kódu zmizí SQL dotazy, veškerá práce s databází je na jednom místě, líp se to testuje a ladí, líp se to migruje... Obrovská nevýhoda byla to, že každou změnu ve struktuře DB jsem musel ručně přepisovat do patřičných tříd. Hledal jsem, jak to automatizovat, chvíli jsem přemýšlel o řešení Jakuba Vrány, který si, jestli se dobře pamatuju, <i>ve svém nástroji na generování adminských rozhraní (upřesňující poznámka 7.1.)</i> parsuje SQL a z něj si generuje strukturu aplikace, ale furt se mi to zdálo příliš složité. (<a href="http://php.vrana.cz/orm-z-druhe-strany.php">Jakub k tomu podotýká</a>)</p>
<p>---</p>
<p>Teď před Vánoci jsem při té diskusi zase přemýšlel a říkal jsem si:<b> Jdu na to špatně!</b> Já vycházím z datového modelu, z něj udělám SQL, udělám z něj i třídy, a relace ze SQL prostupují pak celou aplikací (i když zprostředkovaně). Hledám, jak změny v abstraktním relačním modelu, které jako první udělám v SQL, co nejsnadněji reflektovat do objektového modelu v PHP.</p>
<p>Vydal jsem se z druhé strany. Napsal jsem si třídu "ObjectDataStorage", pak jsem ji přejmenoval, když jsem zjistil, že potomci mají názvy jako třeba "ODS_Comments", a ta třída dělala následující:</p>
<p>Z kódu definice svých potomků (jasně že v každou chvíli vím, jak se dostat k PHP kódu každé třídy - výhoda konvencí) si načetla definice sloupců a relací mezi nimi. Například:</p>
<address> private $author_id; ///belongsTo ODS_Author<br />private $title; ///string(150)</address>
<p>No a z tohodle všeho si třída odvodila správné foreign keys a dokázala vytvořit i CREATE TABLE kód, a dokonce ho dokázala vytvořit rekurzivně pro všechny odkázané třídy, a navíc ve správném pořadí.</p>
<p>A už jak jsem to dopisoval, tak jsem viděl, že to je <i>NAPROSTO ŠPATNĚ</i>. Že jsem ohackoval stejný problém z druhé strany, jen místo distribuce změn SQL=&gt;PHP budu distribuovat změny v opačném směru.</p>
<p><b>Kudy, když tudy ne?</b></p>
<p>Pokud budu v aplikaci vycházet z abstraktního datového modelu, budu z něj vždycky dělat relační model pro SQL, objektový pro PHP a cosi na půl cesty pro ORM. Což je způsob, který je sice "průmyslovým standardem", ale má nevýhody:</p>
<p>- ORM je poměrně složitý, protože musí být inteligentní.</p>
<p>- Změna je problém,</p>
<p>- což je problém, protože vývoj je změna.</p>
<p>Je jasné, že existují spousty dobrých důvodů, proč to dělat takto. Kdokoli mi jich vyjmenuje na jeden nádech tucet. Jenže mně to připadá nesmyslné. Jasně, dobré důvody jsou dobré, ale spousta dobrých důvodů se časem ukázala coby zatraceně nesmyslné důvody. Třeba: Je opravdu nutné mít u webové aplikace (třeba typu jdem.cz nebo Clipboardu) relační databázi?</p>
<p>Já to zopakuju ještě jednou, pro ty s pomalejší myslí a s pytlem Dobrých Důvodů: <b>Je OPRAVDU NUTNÉ mít na webovém projektu, který je založený na tom, že si uložím nějaká obecná data a pak je načtu a vrátím návštěvníkovi, relační databázi?</b></p>
<p>Tak - relační databázi má každý hosting. Jsou známé, lidi s nimi umí (no...) pracovat, seženete radu když nevíte, jsou dostatečně výkonné, "myslet v tabulkách" vás naučej na každé VŠ. Spousta dobrých důvodů, že? Ale ve skutečnosti NEPOTŘEBUJETE <b>RELAČNÍ</b> databázi. Zdůrazňuju to "relační".</p>
<p>Jeden čas jsem to řešil tak, že jsem si nad filesystémem simuloval "key:value" databázi - prostě jsem si ukládal záznamy podle nějakého klíče (na Jdem třeba oné zkratky URL) do adresáře <i>data/</i>, pro jistotu rozdrobeného do struktury tak, že např. "abcde" bylo uloženo v <i>data/a/b/c/abcde</i>. Což rozhodně nedoporučuju, pokud těch souborů bude nějak významně hodně, budou malé a vy se rozhodnete to všechno přestěhovat - FTP na tom umře, zabalení vám v ČR pořádně nikdo nenabídne a procházení pomocí rekurzivního opendir() vám zabije server a výsledek je nejistý. Ale pro řádově tisícovku souborů je to celkem slušný způsob.</p>
<p>Ale co, ony existují Dobré Důvody, proč si třeba obrázky uložit do databáze jako bloby. Přiznám se, že jsem je kdysi i znal, ale od doby, co jsem přestal používat ASP a MSSQL a přešel k PHP/MySQL, jsem je (rád) zapomněl a ukládám obrázky do filesystému. Ale to odbočuju.</p>
<p><b>Výkonnou relační databázi na jednoduchých webech nepotřebujeme.</b> Používáme je, protože je máme, ale ve skutečnosti je nepotřebujeme. Jen nám přidělávají starosti. (A teď vidím nadzdvihnuté žluče všech těch, co se je naučili a chystají se spustit tirádu na téma "<i>Dobrý SQL model ušetří práci</i>". Jo, ve světě, kde s ním pracujete, vám ušetří práci. Ale pokud pracujete tak, že ho nepotřebujete, ušetří vám mnohem víc práce.)</p>
<p><b>Cesty jsou v zásadě dvě</b>: naprat logiku aplikace do databáze a nechat ji, aby v podstatě "odpovídala sama" (ne že by to bylo nemožné), nebo naopak nechat logiku v PHP kódu, databázi degradovat na úložiště objektových dat a s relačním modelem se vůbec nezatěžovat.</p>
<p>Na webu lze jen těžko jít první cestou (pokud si myslíte že to je schůdnější, zkuste tak navrhnout redakční systém, který by fungoval každému druhému na běžném hostingu - což je to, co je nejčastěji potřeba; specializované IS postavené na zakázku nad Oracle apod. jsou extrémy). Jako logičtější se jeví druhá cesta, tedy degradace DB na pouhé úložiště. Tomu, že je na webu lákavá, napovídá i fakt, že ji zvolily největší servery, od Facebooku přes Twitter a Amazon až po Google. I když ze zcela jiných důvodů než je přenositelnost - především kvůli snadnější správě, vyššímu výkonu či kvůli snadnému provádění MapReduce algoritmu.</p>
<p>Totiž: <b>Čím jednodušší DB, tím levnější DB</b>. Snazší implementace. Snazší škálování a sharding. A jednodušší databázová vrstva. Co je jednoduché, to se snáz testuje. A snáz se to změní.</p>
<p>Když degraduju DB na úložiště, zjednoduším si ORM (vypadne mi to R) :) Důsledek je ten, že datový model bude mít svůj obraz pouze v objektovém světě PHP. Vůbec se nemusím zabývat SQL. Ještě jednodušeji: Vůbec se nemusím zabývat tím, kde data budou ležet - jestli lokálně, vzdáleně, v databázi, filesystému nebo jestli je bude generovat rychlovarná konvice. Prostě si nadefinuju třídy pro "ukládání dat" jako potomky rodičovské třídy "ORM bez R", která se mi postará o ukládání a načítání obsahu. Navíc každému objektu přiřadí unikátní interní ID (stejně by ho měly).</p>
<p><b>Jak data ukládám</b>? Jako serializované neorganizované shluky. Doslova to, co vypadne ze <i>serialize($this)</i>. Rodičovská třída má k dispozici "storage", který implementuje nějaký interface <i>IStorage</i>. V něm jsou metody Ulož a Načti, které uloží nebo načtou data pro objekt s daným ID. Kromě toho umí uložit a načíst index.</p>
<p>Index je nutný, abych např. našel "odkazy, které zadal autor s daným ID". Index jde napříč všemi třídami a je společný pro všechny atributy se stejným jménem. prostě - jak v nějaké třídě použiju author_id, je to identifikátor pro autora a bude zaindexován v indexu "author_id" - ať je to "článek", "komentář" nebo "odkaz". Při hledání si samosebou mohu vyfiltrovat jen objekty určitého typu.</p>
<p>Protože ukládám jako serializovaná data, nemusím nikomu říkat typ jednotlivých atributů ani vazby, ty si naznačuju konvencí: blabla_id je identifikátor nějakého objektu.</p>
<p>Takže vše, co implementuje metody Ulož, Načti, Přidej do indexu a Vyhoď z indexu, může být použito jako objektové úložiště. Implementace pro filesystém je snadná a jasná, implementace pro MySQL taky. Zabralo mi to tři podvečery, a teď mám velmi flexibilní, efektivní a jednoduchý systém pro ukládání dat - v podstatě wrapper pro NoSQL databázi, který si umí poradit i v případech, kdy NoSQL databáze (CouchDB, Mongo...) na serveru není (což není skoro nikdy).</p>
<p><b>Výhody</b>? Nemusím se šmrdlat se SQL a s relačním modelem. Bez problémů mi funguje lazy load a lazy write, přitom mohu použít syntaxi jako <i>$clanek-&gt;uzivatel-&gt;jmeno</i> (uzivatel bude z konvence uložen jako uzivatel_id, na pozadí se při načítání objektu "článek" vytvoří prázdný objekt typu uzivatel, pouze s vyplněmým ID, no a když sáhnu pro data, tak se donačte z úložiště). "ORM", který ORM není, je velmi jednoduchý. Zvonku to vyzerá tak, že objekty se umí uložit a továrna je umí "vyrobit". Úložiště je snadné, dá se krásně implementovat sharding, když na to přijde, a je to dobrý krok k NoSQL databázím.</p>
<p><b>Nevýhody</b>? Prostě "se to takhle nedělá". Každý student prvního ročníku VŠ vám vysvětlí, proč je špatné zahodit strukturu dat a relace. Jak moc to pomáhá. Jak je dobrý relační model základem aplikace a zbytek je jen omáčka. Víceméně samé <i>Dobré Důvody</i>.</p>
<p>Tedy nic vážného. Nepotřebuji relační databázi. Když nepotřebuji relační databázi, nepotřebuji ani relační model. <b>Relační databáze mi ušetří práci jen tehdy, když potřebuju relační databázi.</b> Jinak mi práci přidělá.</p>
<p>---</p>
<p>A jak taková implementace <i>NoSQL bezschémového zmatku</i> nad MySQL může vypadat prakticky? To se dočtete na Zdrojáku v článku <a href="http://zdrojak.root.cz/clanky/mysql-v-roli-neschemove-databaze/">MySQL v roli neschémové databáze</a>, v němž představuje spoluzakladatel a CEO webu FriendFeed řešení, k němuž dospěli při vývoji své služby.</p>
  </div>

  
      <div class="nodeLinks">
      <ul class="links inline"><li class="addtoany first last"><span>
		<a class="da2a_button" href="http://www.addtoany.com/share_save?linkurl=http%3A%2F%2Fwww.misantrop.cz%2Form-z-druhe-strany&amp;linkname=ORM%20z%20druh%C3%A9%20strany" id="da2a_1"><img src="/modules/addtoany/images/share_save_171_16.png" width="171" height="16" alt="Sdílet"/></a>
		<script type="text/javascript">
<!--//--><![CDATA[//><!--
da2a.script_load();
//--><!]]>
</script>
		</span></li>
</ul>    </div>
    
</div>        <div id="block-disqus-disqus_comments" class="clear-block block block-disqus">


  <div class="content"><div id="disqus_thread"></div><noscript><div class="disqus-noscript"><a href="http://misantrop.disqus.com/?url=http%3A%2F%2Fwww.misantrop.cz%2Fnode%2F179">View the discussion thread.</a></div></noscript></div>
</div>
              </div><!-- /content -->

      <div id="sidebar-wrapper">
        <div id="sidebar">
                    <div id="block-block-21" class="clear-block block block-block">

  <h2 class="title">Nejlevnější Kindle přímo od Amazonu</h2>

  <div class="content"><iframe src="http://rcm.amazon.com/e/cm?t=dein-20&o=1&p=12&l=ur1&category=kindle&banner=1G8SKADPHMSD8H2DVX82&f=ifr" width="300" height="250" scrolling="no" border="0" marginwidth="0" style="border:none;" frameborder="0"></iframe>
<!--iframe src="http://rcm.amazon.com/e/cm?t=dein-20&o=1&p=12&l=ur1&category=kindle&banner=1RR50DN6TK7D02JARP02&f=ifr" width="300" height="250" scrolling="no" border="0" marginwidth="0" style="border:none;" frameborder="0"></iframe--></div>
</div>
<div id="block-tagadelic-1" class="clear-block block block-tagadelic">

  <h2 class="title">Kategorie</h2>

  <div class="content"><a href="/kategorie/o-hrach" class="tagadelic level4" rel="tag">O hrách</a> 
<a href="/kategorie/o-hudbe" class="tagadelic level1" rel="tag">O hudbě</a> 
<a href="/kategorie/o-mne" class="tagadelic level6" rel="tag">O mně</a> 
<a href="/kategorie/o-mysleni" class="tagadelic level3" rel="tag">O myšlení</a> 
<a href="/kategorie/o-programovani" class="tagadelic level5" rel="tag">O programování</a> 
<a href="/kategorie/o-vas" class="tagadelic level6" rel="tag">O vás</a> 
<a href="/kategorie/o-vecech-verejnych" class="tagadelic level5" rel="tag">O věcech veřejných</a> 
<a href="/kategorie/o-vsem" class="tagadelic level5" rel="tag">O všem</a> 
<a href="/kategorie/o-webu" class="tagadelic level6" rel="tag">O webu</a> 
</div>
</div>
<div id="block-block-18" class="clear-block block block-block">


  <div class="content"><!-- Kontextová reklama Sklik -->
<div id="sklikReklama_1993"></div>
<script type="text/javascript">
    var sklikData = { elm: "sklikReklama_1993", zoneId: 1993, w: 250, h: 250 };
</script>
<script type="text/javascript" src="http://out.sklik.cz/js/script.js"></script></div>
</div>
<div id="block-block-13" class="clear-block block block-block">

  <h2 class="title">Stručný Misantrop</h2>

  <div class="content"><div class="item-list"><ul><li><div class="my-twitter-status"><a href="http://feedproxy.google.com/~r/strucny-misantrop/~3/iFDwMQVkLHQ/citat-k-diskusim-na-obsahovem-webu">Citát k diskusím na obsahovém webu</a></div><div class="my-twitter-status-time">Před 1 den 14 hod</div></li><li><div class="my-twitter-status"><a href="http://feedproxy.google.com/~r/strucny-misantrop/~3/sJWGrS-latE/uveritelne-dojeti-na-dve-kliknuti-mysi">Uvěřitelné dojetí na dvě kliknutí myši?</a></div><div class="my-twitter-status-time">Před 1 týden 10 hod</div></li><li><div class="my-twitter-status"><a href="http://feedproxy.google.com/~r/strucny-misantrop/~3/BPoHnhRx570/jak-vodafonecz-prijde-o-zakaznika">Jak @vodafone_cz přijde o zákazníka...</a></div><div class="my-twitter-status-time">Před 2 týdny 13 hod</div></li><li><div class="my-twitter-status"><a href="http://feedproxy.google.com/~r/strucny-misantrop/~3/5UBzV47S_AU/twitter-neni-pro-slaby-jedince">Twitter není pro slabý jedince...</a></div><div class="my-twitter-status-time">Před 2 týdny 6 dnů</div></li><li><div class="my-twitter-status"><a href="http://feedproxy.google.com/~r/strucny-misantrop/~3/X4iT5Zi_eXs/co-by-mel-vedet-kazdy-provozovatel-e-shopu">Co by měl vědět každý provozovatel e-shopu?</a></div><div class="my-twitter-status-time">Před 3 týdny 5 dnů</div></li></ul></div></div>
</div>
<div id="block-menu-secondary-links" class="clear-block block block-menu">

  <h2 class="title">Oblíbené odkazy</h2>

  <div class="content"><ul class="menu"><li class="leaf first"><a href="http://blok.rozanek.cz" title="">Blok Filipa Rožánka</a></li>
<li class="leaf"><a href="http://www.machinegun.cz/" title="">Johnny</a></li>
<li class="leaf"><a href="http://www.katchaba.com/" title="">Katchaba</a></li>
<li class="leaf"><a href="http://stene.grafova.eu/" title="">Novinářské štěně</a></li>
<li class="leaf"><a href="http://ideesfixes.blogspot.com/" title="">Petr Koubský</a></li>
<li class="leaf"><a href="http://www.bloc.cz/default.aspx" title="">Bloc Jiřího Hlavenky</a></li>
<li class="leaf"><a href="http://pooh.cz/pooh" title="">Dan Dočekal</a></li>
<li class="leaf"><a href="http://www.uuid.cz" title="Unikátní identifikátor na počkání">UUID</a></li>
<li class="leaf"><a href="http://davebarry.cz/" title="">Dave Barry česky</a></li>
<li class="leaf"><a href="http://apimania.eu/" title="">Apimania</a></li>
<li class="leaf"><a href="http://www.uelectronics.info/" title="">Mikroelektronika</a></li>
<li class="leaf"><a href="http://www.php-suit.com/" title="">PHP suit</a></li>
<li class="leaf"><a href="http://www.dailyrazor.com/affiliate/idevaffiliate.php?id=2651_4_3_7" title="... od 30 Kč měsíčně">Hosting pro Ruby on Rails</a></li>
<li class="leaf"><a href="http://www.dailyrazor.com/affiliate/idevaffiliate.php?id=2651_2_3_4" title="">Hosting JSP+TomCat</a></li>
<li class="leaf"><a href="http://www.dailyrazor.com/affiliate/idevaffiliate.php?id=2651_3_3_1" title="">Hosting pro .NET</a></li>
<li class="leaf"><a href="http://www.zdrojak.cz" title="">Zdroják - magazín pro vývojáře webových aplikací</a></li>
<li class="leaf"><a href="http://www.smartcompanies.cz/ready-made-spolecnosti/" title="Prodej ready made společností s.r.o. a a.s.">Ready made společnosti</a></li>
<li class="leaf last"><a href="http://www.smart-office.cz/virtualni-kancelar/" title="Virtuální kanceláře a poskytování sídel">Virtuální kanceláře</a></li>
</ul></div>
</div>
<div id="block-gtranslate-0" class="clear-block block block-gtranslate">

  <h2 class="title">GTranslate</h2>

  <div class="content"><script type="text/javascript" src="/modules/gtranslate/gtranslate-files/jquery-translate.js"></script><script type="text/javascript">
//<![CDATA[
if(jQuery.cookie('glang') && jQuery.cookie('glang') != 'cs') jQuery(function($){$('body').translate('cs', $.cookie('glang'), {not:'.notranslate', toggle:true});});
//]]>
</script><script type="text/javascript">//<![CDATA[
function doTranslate(lang_pair) {if(lang_pair.value)lang_pair=lang_pair.value;var lang=lang_pair.split('|')[1];jQuery.cookie('glang', lang, {path: '/'});jQuery(function($){$('body').translate('cs', lang, {not:'.notranslate', toggle:true})});}
//]]>
</script><style type="text/css">
<!--
a.gtflag {background-image:url('/modules/gtranslate/gtranslate-files/16a.png');}
a.gtflag:hover {background-image:url('/modules/gtranslate/gtranslate-files/16.png');}
-->
</style><a href="javascript:doTranslate('cs|fr')" title="French" class="gtflag" style="font-size:16px;padding:1px 0;background-repeat:no-repeat;background-position:-200px -100px;"><img src="/modules/gtranslate/gtranslate-files/blank.png" height="16" width="16" style="border:0;vertical-align:top;" alt="French" /></a> <a href="javascript:doTranslate('cs|de')" title="German" class="gtflag" style="font-size:16px;padding:1px 0;background-repeat:no-repeat;background-position:-300px -100px;"><img src="/modules/gtranslate/gtranslate-files/blank.png" height="16" width="16" style="border:0;vertical-align:top;" alt="German" /></a> <a href="javascript:doTranslate('cs|it')" title="Italian" class="gtflag" style="font-size:16px;padding:1px 0;background-repeat:no-repeat;background-position:-600px -100px;"><img src="/modules/gtranslate/gtranslate-files/blank.png" height="16" width="16" style="border:0;vertical-align:top;" alt="Italian" /></a> <a href="javascript:doTranslate('cs|pt')" title="Portuguese" class="gtflag" style="font-size:16px;padding:1px 0;background-repeat:no-repeat;background-position:-300px -200px;"><img src="/modules/gtranslate/gtranslate-files/blank.png" height="16" width="16" style="border:0;vertical-align:top;" alt="Portuguese" /></a> <a href="javascript:doTranslate('cs|ru')" title="Russian" class="gtflag" style="font-size:16px;padding:1px 0;background-repeat:no-repeat;background-position:-500px -200px;"><img src="/modules/gtranslate/gtranslate-files/blank.png" height="16" width="16" style="border:0;vertical-align:top;" alt="Russian" /></a> <a href="javascript:doTranslate('cs|es')" title="Spanish" class="gtflag" style="font-size:16px;padding:1px 0;background-repeat:no-repeat;background-position:-600px -200px;"><img src="/modules/gtranslate/gtranslate-files/blank.png" height="16" width="16" style="border:0;vertical-align:top;" alt="Spanish" /></a> <select onchange="doTranslate(this);"><option value="">Select Language</option><option value="cs|cs" style="font-weight:bold;background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -96px;padding-left:18px;">Czech</option><option value="cs|af" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -688px;padding-left:18px;">Afrikaans</option><option value="cs|sq" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -560px;padding-left:18px;">Albanian</option><option value="cs|ar" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -16px;padding-left:18px;">Arabic</option><option value="cs|be" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -768px;padding-left:18px;">Belarusian</option><option value="cs|bg" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -32px;padding-left:18px;">Bulgarian</option><option value="cs|ca" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -384px;padding-left:18px;">Catalan</option><option value="cs|zh-CN" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -48px;padding-left:18px;">Chinese (Simplified)</option><option value="cs|zh-TW" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -64px;padding-left:18px;">Chinese (Traditional)</option><option value="cs|hr" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -80px;padding-left:18px;">Croatian</option><option value="cs|da" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -112px;padding-left:18px;">Danish</option><option value="cs|nl" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -128px;padding-left:18px;">Dutch</option><option value="cs|en" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -0px;padding-left:18px;">English</option><option value="cs|et" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -576px;padding-left:18px;">Estonian</option><option value="cs|tl" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -400px;padding-left:18px;">Filipino</option><option value="cs|fi" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -144px;padding-left:18px;">Finnish</option><option value="cs|fr" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -160px;padding-left:18px;">French</option><option value="cs|gl" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -592px;padding-left:18px;">Galician</option><option value="cs|de" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -176px;padding-left:18px;">German</option><option value="cs|el" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -192px;padding-left:18px;">Greek</option><option value="cs|iw" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -416px;padding-left:18px;">Hebrew</option><option value="cs|hi" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -208px;padding-left:18px;">Hindi</option><option value="cs|hu" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -608px;padding-left:18px;">Hungarian</option><option value="cs|is" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -784px;padding-left:18px;">Icelandic</option><option value="cs|id" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -432px;padding-left:18px;">Indonesian</option><option value="cs|ga" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -736px;padding-left:18px;">Irish</option><option value="cs|it" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -224px;padding-left:18px;">Italian</option><option value="cs|ja" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -240px;padding-left:18px;">Japanese</option><option value="cs|ko" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -256px;padding-left:18px;">Korean</option><option value="cs|lv" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -448px;padding-left:18px;">Latvian</option><option value="cs|lt" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -464px;padding-left:18px;">Lithuanian</option><option value="cs|mk" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -800px;padding-left:18px;">Macedonian</option><option value="cs|ms" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -704px;padding-left:18px;">Malay</option><option value="cs|mt" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -624px;padding-left:18px;">Maltese</option><option value="cs|no" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -272px;padding-left:18px;">Norwegian</option><option value="cs|fa" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -672px;padding-left:18px;">Persian</option><option value="cs|pl" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -288px;padding-left:18px;">Polish</option><option value="cs|pt" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -304px;padding-left:18px;">Portuguese</option><option value="cs|ro" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -320px;padding-left:18px;">Romanian</option><option value="cs|ru" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -336px;padding-left:18px;">Russian</option><option value="cs|sr" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -480px;padding-left:18px;">Serbian</option><option value="cs|sk" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -496px;padding-left:18px;">Slovak</option><option value="cs|sl" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -512px;padding-left:18px;">Slovenian</option><option value="cs|es" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -352px;padding-left:18px;">Spanish</option><option value="cs|sw" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -720px;padding-left:18px;">Swahili</option><option value="cs|sv" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -368px;padding-left:18px;">Swedish</option><option value="cs|th" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -640px;padding-left:18px;">Thai</option><option value="cs|tr" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -656px;padding-left:18px;">Turkish</option><option value="cs|uk" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -528px;padding-left:18px;">Ukrainian</option><option value="cs|vi" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -544px;padding-left:18px;">Vietnamese</option><option value="cs|cy" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -752px;padding-left:18px;">Welsh</option><option value="cs|yi" style="background:url('/modules/gtranslate/gtranslate-files/16l.png') no-repeat scroll 0 -816px;padding-left:18px;">Yiddish</option></select></div>
</div>
<div id="block-block-2" class="clear-block block block-block">

  <h2 class="title">Jak se vám to čte?</h2>

  <div class="content"><!--script src="http://tweetboard.com/tb.js?v=1.0&user=jdemcz" type="text/javascript"></script-->

<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-190512-8";
urchinTracker();
</script><img src="http://counter.cnw.cz/dungeon.cgi?blogmalycz&amp;6&amp;000000&amp;fff1d8&amp;on" alt=" " style="width:1px;height:1px;"/><script type="text/javascript">/* <![CDATA[ */
document.write("<img src=\"http://counter.cnw.cz/trackit.cgi?blogmalycz&t2&" + escape(top.document.referrer) + "\" alt=\" \" border=\"0\" width=\"1\" height=\"1\">"); /* ]]> */
</script>

<a href="http://feeds.feedburner.com/misantrop"><img src="http://feeds.feedburner.com/~fc/misantrop?bg=99CCFF&amp;fg=444444&amp;anim=0" height="26" width="88" style="border:0" alt="" /></a>


<a href="http://twittercounter.com/?username=adent" title="TwitterCounter for @adent"><img src="http://twittercounter.com/counter/?username=adent" width="88" height="26" style="border:none;" alt="TwitterCounter for @adent" /></a>


<a href="http://www.webarchiv.cz/files/vydavatele/certifikat.html" onclick="return !window.open(this, 'kod', 'toolbar=no, menubar=no, directories=no, resizable=yes, status=no, width=600, height=210, top=200, left=50')" ><img title="STRÁNKY ARCHIVOVÁNY NÁRODNÍ KNIHOVNOU ČR" style="border:none; width:64px; height:auto" oncontextmenu="return false" src="http://www.webarchiv.cz/images/webarchiv_certifikat_cb.gif" /></a>  </div>
</div>
<div id="block-block-10" class="clear-block block block-block">

  <h2 class="title">Aby bylo jasno...</h2>

  <div class="content"><ul style="font-size:80%">
<li>Ročník: <strong>1973</strong></li>
<li>Levice/pravice: <strong>PRAVICE</strong></li>
<li>Ekonomika: <strong>LIBERÁL</strong></li>
<li>Radar: <strong>PRO</strong></li>
<li>Temelín: <strong>PRO</strong></li>
<li>Boj proti oteplení: <strong>PROTI</strong></li>
<li>Aktivisti: <strong>PROTI</strong></li>
<li>NGO: <strong>PROTI</strong></li>
<li>Lisabonská smlouva: <strong>PROTI</strong></li>
<li>Brusel: <strong>PROTI</strong></li>
<li>30 Kč poplatek: <strong>PRO</strong></li>
<li>ČSSD: <strong>NE</strong></li>
<li>KSČM: <strong>NE</strong></li>
<li>ODS: <strong>NE</strong></li>
<li>Lidovci: <strong>NE</strong></li>
<li>Zelení: <strong>NE</strong></li>
<li>Národovci: <strong>NE</strong></li>
<li>Cesty změny: <strong>NE</strong></li>
<li>Jiné pravdy a lásky: <strong>PROBŮH, NE</strong></li>
<li>Klaus: <strong>NEVADÍ</strong></li>
<li>Paroubek: <strong>VADÍ</strong></li>
<li>Izrael/Palestina: <strong>SPÍŠ IZRAEL</strong></li>
<li>Praha/Brno: <strong>PRAHA</strong></li>
<li>Sparta/Slávie: <strong>NEZÁJEM</strong></li>
<li>Mazání komentářů: <strong>PRO</strong></li>
<li>Plat ředitele ČEZu: <strong>NEZAJÍMÁ</strong></li>
</ul>
</div>
</div>
<div id="block-system-0" class="clear-block block block-system">


  <div class="content"><a href="http://drupal.org"><img src="/misc/powered-blue-80x15.png" alt="Běží na Drupalu, open-source redakčním systému" title="Běží na Drupalu, open-source redakčním systému" width="80" height="15" /></a></div>
</div>
        </div><!-- /sidebar -->
      </div><!-- /sidebar-wrapper -->
      
      <div id="footer">
                <div id="block-block-1" class="clear-block block block-block">


  <div class="content"><p>&copy; <a href="http://www.maly.cz/">Martin Malý</a> (aka Arthur Dent) | <a href="http://hostmonster.jdem.cz">HOSTING by Hostmonster</a></p>
<!-- script type="text/javascript" src="http://tcr.tynt.com/javascripts/Tracer.js?user=dQaUSsGb4r3RkTab7jrHcU&s=61"></script --><!-- script type="text/javascript" src="http://tcr.tynt.com/javascripts/Tracer.js?user=dQaUSsGb4r3RkTab7jrHcU&s=61"></script --></div>
</div>
<div id="block-block-20" class="clear-block block block-block">


  <div class="content"><!-- Kontextová reklama Sklik --><!-- Kontextová reklama Sklik --><div id="sklikReklama_2331"></div>
<script type="text/javascript">
    var sklikData = { elm: "sklikReklama_2331", zoneId: 2331, w: 950, h: 90 };
</script><script type="text/javascript" src="http://out.sklik.cz/js/script.js"></script></div>
</div>
      </div><!-- /footer -->
    </div><!-- /container -->
    <script type="text/javascript">
<!--//--><![CDATA[//><!--
da2a.targets=[
{title:'ORM z druhé strany',url:'http://www.misantrop.cz/orm-z-druhe-strany'}];
da2a.html_done=true;if(da2a.script_ready&&!da2a.done)da2a.init();da2a.script_load();
//--><!]]>
</script>
  </body>
</html>